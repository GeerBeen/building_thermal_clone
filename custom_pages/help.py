import streamlit as st


def make_help():
    st.header("Довідка користувача")
    st.markdown("""
    Ласкаво просимо до цифрового двійника будівлі! 
    Цей інструмент дозволяє моделювати теплову поведінку будинку, перевіряти ефективність матеріалів 
    та підбирати оптимальні стратегії опалення.
    """)

    # --- 1. ПЛАНУВАННЯ ТА БУДІВНИЦТВО ---
    with st.expander("Етап 1: Планування та Геометрія"):
        st.markdown("""
        Все починається з **"Планування"**.

        1.  **Перша кімната (Фундамент):**
            *   Ви створюєте першу кімнату (зазвичай вітальню або коридор). Вона задає систему координат.
            *   Вкажіть матеріал *зовнішніх* стін одразу.

        2.  **Розширення будинку (Прибудова):**
            *   Щоб додати кімнату, натисніть на **існуючу кімнату** на плані.
            *   У лівій панелі з'явиться список стін. Оберіть **Зовнішню стіну**.
            *   Введіть глибину нової кімнати та натисніть "Створити прибудову".

        3.  **Важливий нюанс про матеріали:**
            *   Нові стіни прибудованої кімнати автоматично **успадковують матеріал** тієї стіни, до якої ви їх приєднуєте.
            *   *Приклад:* Якщо ви прибудовуєте спальню до утепленої стіни вітальні, стіни спальні теж будуть утепленими.
        """)

    # --- 2. ДЕТАЛІЗАЦІЯ ---
    with st.expander("Етап 2: Отвори та Матеріали"):
        st.markdown("""
        Не залишайте будинок "глухим" бункером.

        *   **Вікна та Двері:**
            *   Додаються через меню стіни в розділі "Планування".
            *   Впливають на тепловтрати набагато більше, ніж стіни.
            *   *Нюанс:* Програма автоматично розподіляє вікна по центру стіни.

        *   **Редагування стін:**
            *   Ви можете змінити матеріал будь-якої стіни в будь-який момент.
            *   Змінили стіну на "Склоблок"? На графіку симуляції це миттєво відобразиться як швидша втрата тепла.
        """)

    # --- 3. КЛІМАТ-КОНТРОЛЬ ---
    with st.expander("Етап 3: Опалення та Стратегії (HVAC)"):
        st.markdown("""
        Найцікавіша частина симуляції. Ви можете налаштувати опалення для кожної кімнати окремо.

        **Типи пристроїв:**
        *   Додаються в меню "Планування" -> обрати кімнату -> "Встановити обладнання".
        *   Ви можете комбінувати пристрої (наприклад, Кондиціонер + Обігрівач).

        **Режими роботи (в меню "Симуляція"):**

        1.  **Термостат (Авто):** 
            *   Вкажіть бажану температуру (наприклад, 21°C). Обігрівач вмикатиметься тільки тоді, коли стане холодно.
            *   *Використання:* Ідеально для оцінки реального споживання енергії.

        2.  **Циклічний (Таймер):**
            *   Жорсткий графік: "5 годин гріє, 3 години не гріє".
            *   *Використання:* Спробуйте налаштувати це для імітації **"Нічного тарифу"** або економії, коли вдома нікого немає.

        3.  **Завжди ВКЛ / ВИКЛ:**
            *   Для екстремальних тестів. Як швидко нагріється дім з -10°C? Як швидко охолоне, якщо вимкнути все?
        """)

    # --- 4. СИМУЛЯЦІЯ ---
    with st.expander("Етап 4: Аналіз результатів"):
        st.markdown("""
        *   **Погода:** Симуляція враховує добові коливання. Вночі на вулиці холодніше, вдень тепліше (синусоїда).
        *   **Інерція (Маса стін):**
            *   Не дивуйтеся, якщо після вимкнення опалення температура падає повільно. Це працюють ваші стіни (бетон тримає тепло краще за каркасник).
        *   **Взаємовплив:**
            *   Якщо вимкнути опалення в одній кімнаті, вона не замерзне повністю, якщо в сусідніх кімнатах тепло. Вона буде "красти" тепло через внутрішні стіни.

        **Що шукати на графіках?**
        *   Якщо лінія температури "пилкоподібна" (зубчиками) — це нормально, так працює термостат.
        *   Якщо температура падає занадто швидко — перевірте вікна або матеріал стін (можливо, ви забули утеплення).
        """)

    st.divider()
    st.info("**Порада:** Не забувайте зберігати свій проєкт у файл JSON перед великими експериментами!")